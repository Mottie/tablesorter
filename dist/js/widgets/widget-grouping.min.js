(function(factory){if (typeof define === 'function' && define.amd){define(['jquery'], factory);} else if (typeof module === 'object' && typeof module.exports === 'object'){module.exports = factory(require('jquery'));} else {factory(jQuery);}}(function(jQuery){
/*! Widget: grouping - updated 9/27/2017 (v2.29.0) */
!function(g){"use strict";var l=g.tablesorter,i=l.grouping={types:{number:function(o,r,e,u){var p,r=r.hasClass(l.css.sortAsc);return 1<u&&""!==e?(p=r?Math.floor(parseFloat(e)/u)*u:Math.ceil(parseFloat(e)/u)*u,p+=" - "+(p+(u-1)*(r?1:-1))):p=parseFloat(e)||e,p},separator:function(o,r,e,u){e=(e+"").split(o.widgetOptions.group_separator);return g.trim(e[u-1]||"")},text:function(o,r,e){return e},word:function(o,r,e,u){return((e+" ").match(/\w+/g)||[])[u-1]||""},letter:function(o,r,e,u){return e?(e+" ").substring(0,u):""},date:function(o,r,e,u){var p,t,a=o.widgetOptions,e=new Date(e||"");return e instanceof Date&&isFinite(e)?(p=e.getFullYear(),t=i.findMonth(a,e.getMonth()),"year"===u?p:"month"===u?t:"monthyear"===u?t+" "+p:"day"===u?t+" "+e.getDate():"week"===u?i.findWeek(a,e.getDay()):"time"===u?i.findTime(a,e):"hour"===u?i.findTime(a,e,"hour"):a.group_dateString(e,o,r)):a.group_dateInvalid}},findMonth:function(o,r){return o.group_months[r+(""===(o.group_months[0]||"")?1:0)]},findWeek:function(o,r){return g.isArray(o.group_week)?o.group_week[r]:g.isEmptyObject(o.group_week)?void 0:o.group_week[["sun","mon","tue","wed","thu","fri","sat"][r]]},findTime:function(o,r,e){var u=o.group_time.am&&o.group_time.pm,p=r.getHours(),t=12<=p?1:0,p=("00"+(o.group_time24Hour&&12<p?p-12:o.group_time24Hour&&0===p?p+12:p)).slice(-2),r=("00"+r.getMinutes()).slice(-2),u=o.group_time[u?["am","pm"][t]:t];return"hour"===e?p:p+":"+r+(o.group_time24Hour?"":" "+(u||""))},update:function(o){var r,e,u;g.isEmptyObject(o.config.cache)||(r=(o=o.config).widgetOptions,u=void 0!==o.sortList[0],e={},u=g.isArray(r.group_forceColumn)&&void 0!==r.group_forceColumn[0]?r.group_enforceSort&&!u?-1:r.group_forceColumn[0]:u?o.sortList[0][0]:-1,o.$table.find("tr.group-hidden").removeClass("group-hidden").end().find("tr.group-header").remove(),r.group_collapsible&&o.$table.data("pagerSavedHeight",0),0<=u&&u<o.columns&&!o.$headerIndexed[u].hasClass("group-false")&&(r.group_collapsedGroup="",r.group_collapsedGroups={},e.column=u,e.groupClass=(o.$headerIndexed[u].attr("class")||"").match(/(group-\w+(-\w+)?)/g),e.grouping=e.groupClass?e.groupClass[0].split("-"):["group","letter",1],e.savedGroup=i.saveCurrentGrouping(o,r,e),i.findColumnGroups(o,r,e),i.processHeaders(o,r,e),o.$table.triggerHandler(r.group_complete)))},processHeaders:function(o,r,e){var u,p,t,a,s,n=o.$table.find("tr.group-header"),l=n.length;for(n.on("selectstart",!1),u=0;u<l;u++)a=(s=n.eq(u)).nextUntil("tr.group-header").filter(":visible"),(r.group_count||g.isFunction(r.group_callback))&&(t=s.find(".group-count")).length&&(r.group_count&&t.html(r.group_count.toString().replace(/\{num\}/g,a.length)),g.isFunction(r.group_callback))&&r.group_callback(s.find("td"),a,e.column,o.table),r.group_saveGroups&&!g.isEmptyObject(r.group_collapsedGroups)&&r.group_collapsedGroups[r.group_collapsedGroup].length?(t=s.find(".group-name").text().toLowerCase()+s.attr("data-group-index"),p=-1<g.inArray(t,r.group_collapsedGroups[r.group_collapsedGroup]),s.toggleClass("collapsed",p),a.toggleClass("group-hidden",p)):r.group_collapsed&&r.group_collapsible&&(s.addClass("collapsed"),a.addClass("group-hidden"))},groupHeaderHTML:function(o,r,e){var u=(e.currentGroup||"").toString().replace(/</g,"&lt;").replace(/>/g,"&gt;");return'<tr class="group-header '+o.selectorRemove.slice(1)+" "+(r.columnSelector_classHasSpan||"hasSpan")+'" unselectable="on" '+(o.tabIndex?'tabindex="0" ':"")+'data-group-index="'+e.groupIndex+'"><td colspan="'+o.columns+'">'+(r.group_collapsible?"<i></i>":"")+'<span class="group-name">'+u+'</span><span class="group-count"></span></td></tr>'},saveCurrentGrouping:function(o,r,e){var u,p=!1;return r.group_collapsible&&r.group_saveGroups&&(r.group_collapsedGroups=l.storage&&l.storage(o.table,"tablesorter-groups")||{},u="dir"+o.sortList[0][1],o=r.group_collapsedGroup=o.sortList[0][0]+u+e.grouping.join(""),r.group_collapsedGroups[o]?p=!0:r.group_collapsedGroups[o]=[]),p},findColumnGroups:function(o,r,e){for(var u,p,t,a=l.hasWidget(o.table,"pager"),s=o.pager||{},n=e.groupIndex=0;n<o.$tbodies.length;n++)for(u=o.cache[n].normalized,e.group=void 0,p=a&&!s.ajax?s.startRow-1:0,t=a?s.endRow-(s.ajax?s.startRow:0):u.length;p<t;p++)e.rowData=u[p],e.rowData&&(e.$row=e.rowData[o.columns].$row,e.$row.is(":visible"))&&i.types[e.grouping[1]]&&i.insertGroupHeader(o,r,e);l.hasWidget(o.table,"columnSelector")&&l.columnSelector.setUpColspan(o,r)},insertGroupHeader:function(o,r,e){var u=o.$headerIndexed[e.column],p=e.rowData[e.column],t=/date/.test(e.groupClass)?e.grouping[2]:parseInt(e.grouping[2]||1,10)||1;e.currentGroup=e.rowData?i.types[e.grouping[1]](o,u,p,t,e.group):e.currentGroup,e.group!==e.currentGroup&&(e.group=e.currentGroup,g.isFunction(r.group_formatter)&&(e.currentGroup=r.group_formatter((e.group||"").toString(),e.column,o.table,o,r,e)||e.group),e.$row.first().before(i.groupHeaderHTML(o,r,e)),r.group_saveGroups&&!e.savedGroup&&r.group_collapsed&&r.group_collapsible&&r.group_collapsedGroups[r.group_collapsedGroup].push(e.currentGroup+e.groupIndex),e.groupIndex++)},bindEvents:function(u,p,t){t.group_collapsible&&(t.group_collapsedGroups=[],p.$table.on("click toggleGroup keyup","tr.group-header",function(o){var r,e;o.stopPropagation(),"keyup"===o.type&&13!==o.which||(e=(r=g(this)).find(".group-name").text().toLowerCase()+r.attr("data-group-index"),!o.shiftKey||"click"!==o.type&&"keyup"!==o.type||r.siblings(".group-header").trigger("toggleGroup"),r.toggleClass("collapsed"),r.nextUntil("tr.group-header").toggleClass("group-hidden",r.hasClass("collapsed")),!(o=r.hasClass("collapsed"))&&l.hasWidget(p.$table,"zebra")&&l.applyWidgetId(p.$table,"zebra"),t.group_saveGroups&&l.storage&&(t.group_collapsedGroups[t.group_collapsedGroup]||(t.group_collapsedGroups[t.group_collapsedGroup]=[]),o&&t.group_collapsedGroup?t.group_collapsedGroups[t.group_collapsedGroup].push(e):t.group_collapsedGroup&&-1<(r=g.inArray(e,t.group_collapsedGroups[t.group_collapsedGroup]))&&t.group_collapsedGroups[t.group_collapsedGroup].splice(r,1),l.storage(u,"tablesorter-groups",t.group_collapsedGroups)))})),g(t.group_saveReset).on("click",function(){i.clearSavedGroups(u)}),p.$table.on("pagerChange.tsgrouping",function(){i.update(u)})},clearSavedGroups:function(o){o&&l.storage&&(l.storage(o,"tablesorter-groups",""),i.update(o))}};l.addWidget({id:"group",priority:100,options:{group_collapsible:!0,group_collapsed:!1,group_saveGroups:!0,group_saveReset:null,group_count:" ({num})",group_separator:"-",group_formatter:null,group_callback:null,group_complete:"groupingComplete",group_forceColumn:[],group_enforceSort:!0,group_checkbox:["checked","unchecked"],group_months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],group_week:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],group_time:["AM","PM"],group_time24Hour:!1,group_dateInvalid:"Invalid Date",group_dateString:function(o){return o.toLocaleString()}},init:function(o,r,e,u){i.bindEvents(o,e,u)},format:function(o){i.update(o)},remove:function(o,r){r.$table.off("click","tr.group-header").off("pagerChange.tsgrouping").find(".group-hidden").removeClass("group-hidden").end().find("tr.group-header").remove()}})}(jQuery);return jQuery;}));
