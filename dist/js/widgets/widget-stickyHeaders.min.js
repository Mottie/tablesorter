(function(factory){if (typeof define === 'function' && define.amd){define(['jquery'], factory);} else if (typeof module === 'object' && typeof module.exports === 'object'){module.exports = factory(require('jquery'));} else {factory(jQuery);}}(function(jQuery){

/*! Widget: stickyHeaders - updated 9/27/2017 (v2.29.0) */
!function(C,T){"use strict";var w=C.tablesorter||{};function S(e,s){var t=isNaN(s.stickyHeaders_offset)?C(s.stickyHeaders_offset):[];return t.length?t.height()||0:parseInt(s.stickyHeaders_offset,10)||0}C.extend(w.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"}),w.addHeaderResizeEvent=function(e,s,t){if((e=C(e)[0]).config){var t=C.extend({},{timer:250},t),l=e.config,n=l.widgetOptions,i=function(e){var s,t,i,r,a,d,c=l.$headers.length;for(n.resize_flag=!0,t=[],s=0;s<c;s++)r=(i=l.$headers.eq(s)).data("savedSizes")||[0,0],a=i[0].offsetWidth,d=i[0].offsetHeight,a===r[0]&&d===r[1]||(i.data("savedSizes",[a,d]),t.push(i[0]));t.length&&!1!==e&&l.$table.triggerHandler("resize",[t]),n.resize_flag=!1};if(clearInterval(n.resize_timer),s)return n.resize_flag=!1;i(!1),n.resize_timer=setInterval(function(){n.resize_flag||i()},t.timer)}},w.addWidget({id:"stickyHeaders",priority:54,options:{stickyHeaders:"",stickyHeaders_appendTo:null,stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(e,s,l){if(!(s.$table.hasClass("hasStickyHeaders")||0<=C.inArray("filter",s.widgets)&&!s.$table.hasClass("hasFilters"))){var t,i,r,a,n=s.$table,o=C(l.stickyHeaders_attachTo||l.stickyHeaders_appendTo),d=s.namespace+"stickyheaders ",f=C(l.stickyHeaders_yScroll||l.stickyHeaders_attachTo||T),c=C(l.stickyHeaders_xScroll||l.stickyHeaders_attachTo||T),p=n.children("thead:first").children("tr").not(".sticky-false").children(),h=n.children("tfoot"),y=S(0,l),k=n.parent().closest("."+w.css.table).hasClass("hasStickyHeaders")?n.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],g=k.length?k.height():0,H=l.$sticky=n.clone().addClass("containsStickyHeaders "+w.css.sticky+" "+l.stickyHeaders+" "+s.namespace.slice(1)+"_extra_table").wrap('<div class="'+w.css.stickyWrap+'">'),_=H.parent().addClass(w.css.stickyHide).css({position:o.length?"absolute":"fixed",padding:parseInt(H.parent().parent().css("padding-left"),10),top:y+g,left:0,visibility:"hidden",zIndex:l.stickyHeaders_zIndex||2}),y=H.children("thead:first"),u="",v=function(e,s){for(var t,i,r,a=e.filter(":visible"),d=a.length,c=0;c<d;c++)i=s.filter(":visible").eq(c),r="border-box"===(r=a.eq(c)).css("box-sizing")?r.outerWidth():"collapse"===i.css("border-collapse")?T.getComputedStyle?parseFloat(T.getComputedStyle(r[0],null).width):(t=parseFloat(r.css("border-width")),r.outerWidth()-parseFloat(r.css("padding-left"))-parseFloat(r.css("padding-right"))-t):r.width(),i.css({width:r,"min-width":r,"max-width":r})},b=function(e){return!1===e&&k.length?n.position().left:o.length?parseInt(o.css("padding-left"),10)||0:n.offset().left-parseInt(n.css("margin-left"),10)-C(T).scrollLeft()},m=function(){_.css({left:b(),width:n.outerWidth()}),v(n,H),v(p,a)},z=function(e){var s,t,i,r,a,d,c;n.is(":visible")&&(g=k.length?k.offset().top-f.scrollTop()+k.height():0,d=n.offset(),s=S(0,l),c=(t=C.isWindow(f[0]))?f.scrollTop():k.length?parseInt(k[0].style.top,10):f.offset().top,r=o.length?c:f.scrollTop(),a=!l.stickyHeaders_includeCaption&&n.children("caption").height()||0,i=r+s+g-a,c=n.height()-(_.height()+(h.height()||0))-a,a="visible"==(r=i>d.top&&i<d.top+c?"visible":"hidden")?w.css.stickyVis:w.css.stickyHide,d=!_.hasClass(a),c={visibility:r},o.length&&(d=!0,c.top=t?i-o.offset().top:o.scrollTop()),(i=b(t))!==parseInt(_.css("left"),10)&&(d=!0,c.left=i),c.top=(c.top||0)+(!t&&k.length?k.height():s+g),d&&_.removeClass(w.css.stickyVis+" "+w.css.stickyHide).addClass(a).css(c),r===u&&!e||(m(),u=r))};if(o.length&&!o.css("position")&&o.css("position","relative"),H.attr("id")&&(H[0].id+=l.stickyHeaders_cloneId),H.find("> thead:gt(0), tr.sticky-false").hide(),H.find("> tbody, > tfoot").remove(),H.find("caption").toggle(l.stickyHeaders_includeCaption),a=y.children().children(),H.css({height:0,width:0,margin:0}),a.find("."+w.css.resizer).remove(),n.addClass("hasStickyHeaders").on("pagerComplete"+d,function(){m()}),w.bindEvents(e,y.children().children("."+w.css.header)),l.stickyHeaders_appendTo?C(l.stickyHeaders_appendTo).append(_):n.after(_),s.onRenderHeader)for(i=(r=y.children("tr").children()).length,t=0;t<i;t++)s.onRenderHeader.apply(r.eq(t),[t,s,H]);c.add(f).off("scroll resize ".split(" ").join(d).replace(/\s+/g," ")).on("scroll resize ".split(" ").join(d),function(e){z("resize"===e.type)}),s.$table.off("stickyHeadersUpdate"+d).on("stickyHeadersUpdate"+d,function(){z(!0)}),l.stickyHeaders_addResizeEvent&&w.addHeaderResizeEvent(e),n.hasClass("hasFilters")&&l.filter_columnFilters&&(n.on("filterEnd"+d,function(){var e=C(document.activeElement).closest("td"),e=e.parent().children().index(e);_.hasClass(w.css.stickyVis)&&l.stickyHeaders_filteredToTop&&(T.scrollTo(0,n.position().top),0<=e&&s.$filters&&s.$filters.eq(e).find("a, select, input").filter(":visible").focus())}),w.filter.bindSearch(n,a.find("."+w.css.filter)),l.filter_hideFilters&&w.filter.hideFilters(s,H)),l.stickyHeaders_addResizeEvent&&n.on("resize"+s.namespace+"stickyheaders",function(){m()}),z(!0),n.triggerHandler("stickyHeadersInit")}},remove:function(e,s,t){var i=s.namespace+"stickyheaders ";s.$table.removeClass("hasStickyHeaders").off("pagerComplete resize filterEnd stickyHeadersUpdate ".split(" ").join(i).replace(/\s+/g," ")).next("."+w.css.stickyWrap).remove(),t.$sticky&&t.$sticky.length&&t.$sticky.remove(),C(T).add(t.stickyHeaders_xScroll).add(t.stickyHeaders_yScroll).add(t.stickyHeaders_attachTo).off("scroll resize ".split(" ").join(i).replace(/\s+/g," ")),w.addHeaderResizeEvent(e,!0)}})}(jQuery,window);return jQuery;}));
