/*!
 * tablesorter (FORK) pager plugin
 * updated 2/9/2015 (v2.19.1)
 */
!function(a){"use strict";var b=a.tablesorter;a.extend({tablesorterPager:new function(){this.defaults={container:null,ajaxUrl:null,customAjaxUrl:function(a,b){return b},ajaxObject:{dataType:"json"},processAjaxOnInit:!0,ajaxProcessing:function(){return[0,[],null]},output:"{startRow} to {endRow} of {totalRows} rows",updateArrows:!0,page:0,pageReset:0,size:10,maxOptionSize:20,savePages:!0,storageKey:"tablesorter-pager",fixedHeight:!1,countChildRows:!1,removeRows:!1,cssFirst:".first",cssPrev:".prev",cssNext:".next",cssLast:".last",cssGoto:".gotoPage",cssPageDisplay:".pagedisplay",cssPageSize:".pagesize",cssErrorRow:"tablesorter-errorRow",cssDisabled:"disabled",totalRows:0,totalPages:0,filteredRows:0,filteredPages:0,ajaxCounter:0,currentFilters:[],startRow:0,endRow:0,$size:null,last:{}};var c="filterInit filterStart filterEnd sortEnd disable enable destroy updateComplete pageSize pageSet pageAndSize pagerUpdate ",d=this,e=function(a,b){var c="addClass",d="removeClass",e=a.cssDisabled,f=!!b,g=f||0===a.page,h=Math.min(a.totalPages,a.filteredPages),i=f||a.page===h-1||0===h;a.updateArrows&&(a.$container.find(a.cssFirst+","+a.cssPrev)[g?c:d](e).attr("aria-disabled",g),a.$container.find(a.cssNext+","+a.cssLast)[i?c:d](e).attr("aria-disabled",i))},f=function(b,c){var d,e,f,g=b.config,h=g.$table.hasClass("hasFilters");if(h&&!c.ajaxUrl)if(a.isEmptyObject(g.cache))c.filteredRows=c.totalRows=g.$tbodies.eq(0).children("tr").not(c.countChildRows?"":"."+g.cssChildRow).length;else for(c.filteredRows=0,d=g.cache[0].normalized,f=d.length,e=0;f>e;e++)c.filteredRows+=c.regexRows.test(d[e][g.columns].$row[0].className)?0:1;else h||(c.filteredRows=c.totalRows)},g=function(c,d,g){if(!d.initializing){var j,k,l,m,n,o,p=c.config,q=d.size||d.settings.size||10;if(d.countChildRows&&k.push(p.cssChildRow),d.totalPages=Math.ceil(d.totalRows/q),p.totalRows=d.totalRows,f(c,d),p.filteredRows=d.filteredRows,d.filteredPages=Math.ceil(d.filteredRows/q)||0,Math.min(d.totalPages,d.filteredPages)>=0){if(k=d.size*d.page>d.filteredRows&&g,d.page=k?d.pageReset||0:d.page,d.startRow=k?d.size*d.page+1:0===d.filteredRows?0:d.size*d.page+1,d.endRow=Math.min(d.filteredRows,d.totalRows,d.size*(d.page+1)),l=d.$container.find(d.cssPageDisplay),j=(d.ajaxData&&d.ajaxData.output?d.ajaxData.output||d.output:d.output).replace(/\{page([\-+]\d+)?\}/gi,function(a,b){return d.totalPages?d.page+(b?parseInt(b,10):1):0}).replace(/\{\w+(\s*:\s*\w+)?\}/gi,function(a){var b,c,e=a.replace(/[{}\s]/g,""),f=e.split(":"),g=d.ajaxData,h=/(rows?|pages?)$/i.test(e)?0:"";return/(startRow|page)/.test(f[0])&&"input"===f[1]?(b=(""+("page"===f[0]?d.totalPages:d.totalRows)).length,c="page"===f[0]?d.page+1:d.startRow,'<input type="text" class="ts-'+f[0]+'" style="max-width:'+b+'em" value="'+c+'"/>'):f.length>1&&g&&g[f[0]]?g[f[0]][f[1]]:d[e]||(g?g[e]:h)||h}),d.$goto.length){for(k="",o=h(d),n=o.length,m=0;n>m;m++)k+='<option value="'+o[m]+'">'+o[m]+"</option>";d.$goto.html(k).val(d.page+1)}l.length&&(l["INPUT"===l[0].tagName?"val":"html"](j),l.find(".ts-startRow, .ts-page").unbind("change.pager").bind("change.pager",function(){var b=a(this).val(),c=a(this).hasClass("ts-startRow")?Math.floor(b/d.size)+1:b;p.$table.trigger("pageSet.pager",[c])}))}e(d),i(c,d),d.initialized&&g!==!1&&(p.debug&&b.log("Pager: Triggering pagerComplete"),p.$table.trigger("pagerComplete",d),d.savePages&&b.storage&&b.storage(c,d.storageKey,{page:d.page,size:d.size}))}},h=function(b){var c,d,e,f,g,h,i=Math.min(b.totalPages,b.filteredPages)||1,j=5*Math.ceil(i/b.maxOptionSize/5),k=i>b.maxOptionSize,l=b.page+1,m=j,n=i-j,o=[1],p=k?j:1;for(c=p;i>=c;)o.push(c),c+=k?j:1;if(o.push(i),k){for(e=[],d=Math.max(Math.floor(b.maxOptionSize/j)-1,5),m=l-d,1>m&&(m=1),n=l+d,n>i&&(n=i),c=m;n>=c;c++)e.push(c);o=a.grep(o,function(b,c){return a.inArray(b,o)===c}),g=o.length,h=e.length,g-h>j/2&&g+h>b.maxOptionSize&&(f=Math.floor(g/2)-Math.floor(h/2),Array.prototype.splice.apply(o,[f,h])),o=o.concat(e)}return o=a.grep(o,function(b,c){return a.inArray(b,o)===c}).sort(function(a,b){return a-b})},i=function(b,c){var d,e,f=b.config,g=f.$tbodies.eq(0);g.find("tr.pagerSavedHeightSpacer").remove(),c.fixedHeight&&!c.isDisabled&&(e=a.data(b,"pagerSavedHeight"),e&&(d=e-g.height(),d>5&&a.data(b,"pagerLastSize")===c.size&&g.children("tr:visible").length<c.size&&g.append('<tr class="pagerSavedHeightSpacer '+f.selectorRemove.slice(1)+'" style="height:'+d+'px;"></tr>')))},j=function(b,c){var d,e=b.config,f=e.$tbodies.eq(0);f.find("tr.pagerSavedHeightSpacer").remove(),f.children("tr:visible").length||f.append('<tr class="pagerSavedHeightSpacer '+e.selectorRemove.slice(1)+'"><td>&nbsp</td></tr>'),d=f.children("tr").eq(0).height()*c.size,a.data(b,"pagerSavedHeight",d),i(b,c),a.data(b,"pagerLastSize",c.size)},k=function(a,c){if(!c.ajaxUrl){var d,e=0,f=a.config,g=f.$tbodies.eq(0).children("tr"),h=g.length,i=c.page*c.size,j=i+c.size,k=f.widgetOptions&&f.widgetOptions.filter_filteredRow||"filtered",l=0,m=0;for(c.cacheIndex=[],d=0;h>d;d++)g[d].className.match(k)||(m===i&&g[d].className.match(f.cssChildRow)?g[d].style.display="none":(g[d].style.display=m>=i&&j>m?"":"none",l!==m&&m>=i&&j>m&&(c.cacheIndex.push(d),l=m),m+=g[d].className.match(f.cssChildRow+"|"+f.selectorRemove.slice(1))&&!c.countChildRows?0:1,m===j&&"none"!==g[d].style.display&&g[d].className.match(b.css.cssHasChild)&&(e=d)));if(e>0&&g[e].className.match(b.css.cssHasChild))for(;++e<h&&g[e].className.match(f.cssChildRow);)g[e].style.display=""}},l=function(b,c){c.size=parseInt(c.$size.val(),10)||c.size||c.settings.size||10,a.data(b,"pagerLastSize",c.size),e(c),c.removeRows||(k(b,c),a(b).bind("sortEnd.pager filterEnd.pager",function(){k(b,c)}))},m=function(c,d,e,f,h){if("function"==typeof e.ajaxProcessing){var i,j,k,l,m,n,o,p,q,r,s=d.config,t=s.$table,u="",v=e.ajaxProcessing(c,d,f)||[0,[]],w=t.find("thead th").length;if(b.showError(d),h)s.debug&&b.log("Pager: >> Ajax Error",f,h),b.showError(d,0===f.status?"Not connected, verify Network":404===f.status?"Requested page not found [404]":500===f.status?"Internal Server Error [500]":"parsererror"===h?"Requested JSON parse failed":"timeout"===h?"Time out error":"abort"===h?"Ajax Request aborted":"Uncaught error: "+f.statusText+" ["+f.status+"]"),s.$tbodies.eq(0).children("tr").detach(),e.totalRows=0;else{if(a.isArray(v)?(n=isNaN(v[0])&&!isNaN(v[1]),r=v[n?1:0],e.totalRows=isNaN(r)?e.totalRows||0:r,s.totalRows=s.filteredRows=e.filteredRows=e.totalRows,p=0===e.totalRows?[""]:v[n?0:1]||[],o=v[2]):(e.ajaxData=v,s.totalRows=e.totalRows=v.total,s.filteredRows=e.filteredRows="undefined"!=typeof v.filteredRows?v.filteredRows:v.total,o=v.headers,p=v.rows),q=p&&p.length,p instanceof jQuery)e.processAjaxOnInit&&(s.$tbodies.eq(0).children("tr").detach(),s.$tbodies.eq(0).append(p));else if(q){for(i=0;q>i;i++){for(u+="<tr>",j=0;j<p[i].length;j++)u+=/^\s*<td/.test(p[i][j])?a.trim(p[i][j]):"<td>"+p[i][j]+"</td>";u+="</tr>"}e.processAjaxOnInit&&s.$tbodies.eq(0).html(u)}e.processAjaxOnInit=!0,o&&o.length===w&&(k=t.hasClass("hasStickyHeaders"),m=k?s.widgetOptions.$sticky.children("thead:first").children("tr").children():"",l=t.find("tfoot tr:first").children(),s.$headers.filter("th").each(function(c){var d,e=a(this);e.find("."+b.css.icon).length?(d=e.find("."+b.css.icon).clone(!0),e.find(".tablesorter-header-inner").html(o[c]).append(d),k&&m.length&&(d=m.eq(c).find("."+b.css.icon).clone(!0),m.eq(c).find(".tablesorter-header-inner").html(o[c]).append(d))):(e.find(".tablesorter-header-inner").html(o[c]),k&&m.length&&m.eq(c).find(".tablesorter-header-inner").html(o[c])),l.eq(c).html(o[c])}))}s.showProcessing&&b.isProcessing(d),e.totalPages=Math.ceil(e.totalRows/(e.size||e.settings.size||10)),e.last.totalRows=e.totalRows,e.last.currentFilters=e.currentFilters,e.last.sortList=(s.sortList||[]).join(","),g(d,e,!1),t.trigger("updateCache",[function(){e.initialized&&setTimeout(function(){s.debug&&b.log("Pager: Triggering pagerChange"),t.trigger("applyWidgets").trigger("pagerChange",e),g(d,e,!0)},0)}])}e.initialized||(e.initialized=!0,e.initializing=!1,d.config.debug&&b.log("Pager: Triggering pagerInitialized"),a(d).trigger("applyWidgets").trigger("pagerInitialized",e),g(d,e))},n=function(c,d){var e,f=o(c,d),g=a(document),h=c.config;""!==f&&(h.showProcessing&&b.isProcessing(c,!0),g.bind("ajaxError.pager",function(a,b,e,f){m(null,c,d,b,f),g.unbind("ajaxError.pager")}),e=++d.ajaxCounter,d.last.ajaxUrl=f,d.ajaxObject.url=f,d.ajaxObject.success=function(a,b,f){e<d.ajaxCounter||(m(a,c,d,f),g.unbind("ajaxError.pager"),"function"==typeof d.oldAjaxSuccess&&d.oldAjaxSuccess(a))},h.debug&&b.log("Pager: Ajax initialized",d.ajaxObject),a.ajax(d.ajaxObject))},o=function(c,d){var e,f,g=c.config,h=d.ajaxUrl?d.ajaxUrl.replace(/\{page([\-+]\d+)?\}/,function(a,b){return d.page+(b?parseInt(b,10):0)}).replace(/\{size\}/g,d.size):"",i=g.sortList,j=d.currentFilters||a(c).data("lastSearch")||[],k=h.match(/\{\s*sort(?:List)?\s*:\s*(\w*)\s*\}/),l=h.match(/\{\s*filter(?:List)?\s*:\s*(\w*)\s*\}/),m=[];if(k){for(k=k[1],f=i.length,e=0;f>e;e++)m.push(k+"["+i[e][0]+"]="+i[e][1]);h=h.replace(/\{\s*sort(?:List)?\s*:\s*(\w*)\s*\}/g,m.length?m.join("&"):k),m=[]}if(l){for(l=l[1],f=j.length,e=0;f>e;e++)j[e]&&m.push(l+"["+e+"]="+encodeURIComponent(j[e]));h=h.replace(/\{\s*filter(?:List)?\s*:\s*(\w*)\s*\}/g,m.length?m.join("&"):l),d.currentFilters=j}return"function"==typeof d.customAjaxUrl&&(h=d.customAjaxUrl(c,h)),g.debug&&b.log("Pager: Ajax url = "+h),h},p=function(c,d,e){var f,h,i,j,l=a(c),m=c.config,n=m.$table.hasClass("hasFilters"),o=d&&d.length||0,p=e.page*e.size,q=e.size;if(1>o)return void(m.debug&&b.log("Pager: >> No rows for pager to render"));if(e.page>=e.totalPages&&v(c,e),e.cacheIndex=[],e.isDisabled=!1,e.initialized&&(m.debug&&b.log("Pager: Triggering pagerChange"),l.trigger("pagerChange",e)),e.removeRows){for(b.clearTableBody(c),f=b.processTbody(c,m.$tbodies.eq(0),!0),h=n?0:p,i=n?0:p,j=0;q>j&&h<d.length;)n&&/filtered/.test(d[h][0].className)||(i++,i>p&&q>=j&&(j++,e.cacheIndex.push(h),f.append(d[h]))),h++;b.processTbody(c,f,!1)}else k(c,e);g(c,e),c.isUpdating&&(m.debug&&b.log("Pager: Triggering updateComplete"),l.trigger("updateComplete",[c,!0]))},q=function(c,d){d.ajax?e(d,!0):(d.isDisabled=!0,a.data(c,"pagerLastPage",d.page),a.data(c,"pagerLastSize",d.size),d.page=0,d.size=d.totalRows,d.totalPages=1,a(c).addClass("pagerDisabled").removeAttr("aria-describedby").find("tr.pagerSavedHeightSpacer").remove(),p(c,c.config.rowsCopy,d),a(c).trigger("applyWidgets"),c.config.debug&&b.log("Pager: Disabled")),d.$size.add(d.$goto).add(d.$container.find(".ts-startRow, .ts-page")).each(function(){a(this).attr("aria-disabled","true").addClass(d.cssDisabled)[0].disabled=!0})},r=function(a){var b=a.config,c=b.pager;b.$table.trigger("updateCache",[function(){var d,e=[],f=a.config.cache[0].normalized;for(c.totalRows=f.length,d=0;d<c.totalRows;d++)e.push(f[d][b.columns].$row);b.rowsCopy=e,s(a,c,!0)}])},s=function(c,d,e){if(!d.isDisabled){var g,h=c.config,i=a(c),j=d.last;return e!==!1&&d.initialized&&a.isEmptyObject(h.cache)?r(c):void(d.ajax&&b.hasWidget(c,"filter")&&!h.widgetOptions.filter_initialized||(f(c,d),g=Math.min(d.totalPages,d.filteredPages),d.page<0&&(d.page=0),d.page>g-1&&0!==g&&(d.page=g-1),j.currentFilters=""===(j.currentFilters||[]).join("")?[]:j.currentFilters,d.currentFilters=""===(d.currentFilters||[]).join("")?[]:d.currentFilters,(j.page!==d.page||j.size!==d.size||j.totalRows!==d.totalRows||(j.currentFilters||[]).join(",")!==(d.currentFilters||[]).join(",")||(j.ajaxUrl||"")!==(d.ajaxObject.url||"")||(j.optAjaxUrl||"")!==(d.ajaxUrl||"")||j.sortList!==(h.sortList||[]).join(","))&&(h.debug&&b.log("Pager: Changing to page "+d.page),d.last={page:d.page,size:d.size,sortList:(h.sortList||[]).join(","),totalRows:d.totalRows,currentFilters:d.currentFilters||[],ajaxUrl:d.ajaxObject.url||"",optAjaxUrl:d.ajaxUrl||""},d.ajax?n(c,d):d.ajax||p(c,h.rowsCopy,d),a.data(c,"pagerLastPage",d.page),d.initialized&&e!==!1&&(h.debug&&b.log("Pager: Triggering pageMoved"),i.trigger("pageMoved",d).trigger("applyWidgets"),c.isUpdating&&(h.debug&&b.log("Pager: Triggering updateComplete"),i.trigger("updateComplete",[c,!0]))))))}},t=function(b,c,d){d.size=c||d.size||d.settings.size||10,d.$size.val(d.size),a.data(b,"pagerLastPage",d.page),a.data(b,"pagerLastSize",d.size),d.totalPages=Math.ceil(d.totalRows/d.size),d.filteredPages=Math.ceil(d.filteredRows/d.size),s(b,d)},u=function(a,b){b.page=0,s(a,b)},v=function(a,b){b.page=Math.min(b.totalPages,b.filteredPages)-1,s(a,b)},w=function(a,b){b.page++,b.page>=Math.min(b.totalPages,b.filteredPages)-1&&(b.page=Math.min(b.totalPages,b.filteredPages)-1),s(a,b)},x=function(a,b){b.page--,b.page<=0&&(b.page=0),s(a,b)},y=function(d,e){q(d,e),e.$container.hide(),d.config.appender=null,e.initialized=!1,delete d.config.rowsCopy,a(d).unbind(c.split(" ").join(".pager ").replace(/\s+/g," ")),b.storage&&b.storage(d,e.storageKey,"")},z=function(c,d,e){var f,g=c.config;d.$size.add(d.$goto).add(d.$container.find(".ts-startRow, .ts-page")).removeClass(d.cssDisabled).removeAttr("disabled").attr("aria-disabled","false"),d.isDisabled=!1,d.page=a.data(c,"pagerLastPage")||d.page||0,d.size=a.data(c,"pagerLastSize")||parseInt(d.$size.find("option[selected]").val(),10)||d.size||d.settings.size||10,d.$size.val(d.size),d.totalPages=Math.ceil(Math.min(d.totalRows,d.filteredRows)/d.size),c.id&&(f=c.id+"_pager_info",d.$container.find(d.cssPageDisplay).attr("id",f),g.$table.attr("aria-describedby",f)),j(c,d),e&&(g.$table.trigger("updateRows"),t(c,d.size,d),l(c,d),g.debug&&b.log("Pager: Enabled"))};d.appender=function(b,c){var d=b.config,e=d.pager;e.ajax||(d.rowsCopy=c,e.totalRows=e.countChildRows?d.$tbodies.eq(0).children("tr").length:c.length,e.size=a.data(b,"pagerLastSize")||e.size||e.settings.size||10,e.totalPages=Math.ceil(e.totalRows/e.size),p(b,c,e),g(b,e,!1))},d.construct=function(e){return this.each(function(){if(this.config&&this.hasInitialized){var f,h,i,m=this,n=m.config,o=n.widgetOptions,p=n.pager=a.extend(!0,{},a.tablesorterPager.defaults,e),A=n.$table,B=p.$container=a(p.container).addClass("tablesorter-pager").show();p.settings=a.extend(!0,{},a.tablesorterPager.defaults,e),n.debug&&b.log("Pager: Initializing"),p.oldAjaxSuccess=p.oldAjaxSuccess||p.ajaxObject.success,n.appender=d.appender,p.initializing=!0,p.savePages&&b.storage&&(f=b.storage(m,p.storageKey)||{},p.page=isNaN(f.page)?p.page:f.page,p.size=(isNaN(f.size)?p.size:f.size)||p.settings.size||10,a.data(m,"pagerLastSize",p.size)),p.regexRows=new RegExp("("+(o.filter_filteredRow||"filtered")+"|"+n.selectorRemove.slice(1)+"|"+n.cssChildRow+")"),A.unbind(c.split(" ").join(".pager ").replace(/\s+/g," ")).bind("filterInit.pager filterStart.pager",function(b,c){p.currentFilters=a.isArray(c)?c:n.$table.data("lastSearch"),"filterStart"===b.type&&p.pageReset!==!1&&(n.lastCombinedFilter||"")!==(p.currentFilters||[]).join("")&&(p.page=p.pageReset)}).bind("filterEnd.pager sortEnd.pager",function(){p.currentFilters=n.$table.data("lastSearch"),(p.initialized||p.initializing)&&(n.delayInit&&n.rowsCopy&&0===n.rowsCopy.length&&r(m),g(m,p,!1),s(m,p,!1),n.$table.trigger("applyWidgets"))}).bind("disable.pager",function(a){a.stopPropagation(),q(m,p)}).bind("enable.pager",function(a){a.stopPropagation(),z(m,p,!0)}).bind("destroy.pager",function(a){a.stopPropagation(),y(m,p)}).bind("updateComplete.pager",function(a,b,c){if(a.stopPropagation(),b&&!c){var d=n.$tbodies.eq(0).children("tr").not(n.selectorRemove);p.totalRows=d.length-(p.countChildRows?0:d.filter("."+n.cssChildRow).length),p.totalPages=Math.ceil(p.totalRows/p.size),d.length&&n.rowsCopy&&0===n.rowsCopy.length&&r(b),p.page>=p.totalPages&&v(b,p),k(b,p),j(b,p),g(b,p,!0)}}).bind("pageSize.pager refreshComplete.pager",function(a,b){a.stopPropagation(),t(m,parseInt(b,10)||p.settings.size||10,p),k(m,p),g(m,p,!1)}).bind("pageSet.pager pagerUpdate.pager",function(a,b){a.stopPropagation(),p.page=(parseInt(b,10)||1)-1,"pagerUpdate"===a.type&&(p.last.page=!0),s(m,p,!0),g(m,p,!1)}).bind("pageAndSize.pager",function(a,b,c){a.stopPropagation(),p.page=(parseInt(b,10)||1)-1,t(m,parseInt(c,10)||p.settings.size||10,p),s(m,p,!0),k(m,p),g(m,p,!1)}),h=[p.cssFirst,p.cssPrev,p.cssNext,p.cssLast],i=[u,x,w,v],n.debug&&!B.length&&b.log("Pager: >> Container not found"),B.find(h.join(",")).attr("tabindex",0).unbind("click.pager").bind("click.pager",function(b){b.stopPropagation();var c,d=a(this),e=h.length;if(!d.hasClass(p.cssDisabled))for(c=0;e>c;c++)if(d.is(h[c])){i[c](m,p);break}}),p.$goto=B.find(p.cssGoto),p.$goto.length?p.$goto.unbind("change.pager").bind("change.pager",function(){p.page=a(this).val()-1,s(m,p,!0),g(m,p,!1)}):n.debug&&b.log("Pager: >> Goto selector not found"),p.$size=B.find(p.cssPageSize),p.$size.length?(p.$size.find("option").removeAttr("selected"),p.$size.unbind("change.pager").bind("change.pager",function(){return p.$size.val(a(this).val()),a(this).hasClass(p.cssDisabled)||(t(m,parseInt(a(this).val(),10),p),j(m,p)),!1})):n.debug&&b.log("Pager: >> Size selector not found"),p.initialized=!1,A.trigger("pagerBeforeInitialized",p),z(m,p,!1),"string"==typeof p.ajaxUrl?(p.ajax=!0,n.widgetOptions.filter_serversideFiltering=!0,n.serverSideSorting=!0,s(m,p)):(p.ajax=!1,a(this).trigger("appendCache",!0),l(m,p)),p.ajax||p.initialized||(p.initializing=!1,p.initialized=!0,s(m,p),n.debug&&b.log("Pager: Triggering pagerInitialized"),n.$table.trigger("pagerInitialized",p),n.widgetOptions.filter_initialized&&b.hasWidget(m,"filter")||g(m,p,!1))}})}}}),b.showError=function(b,c){a(b).each(function(){var b,d=this.config,e=d.pager&&d.pager.cssErrorRow||d.widgetOptions.pager_css&&d.widgetOptions.pager_css.errorRow||"tablesorter-errorRow";d&&("undefined"==typeof c?d.$table.find("thead").find(d.selectorRemove).remove():b=a(/tr\>/.test(c)?c:'<tr><td colspan="'+d.columns+'">'+c+"</td></tr>").click(function(){a(this).remove()}).appendTo(d.$table.find("thead:first")).addClass(e+" "+d.selectorRemove.slice(1)).attr({role:"alert","aria-live":"assertive"}))})},a.fn.extend({tablesorterPager:a.tablesorterPager.construct})}(jQuery),function(a){var b=a.tablesorter;a.extend({tablesorterPager:new function(){this.defaults={container:null,ajaxUrl:null,customAjaxUrl:function(a,b){return b},ajaxObject:{dataType:"json"},processAjaxOnInit:!0,ajaxProcessing:function(){return[0,[],null]},output:"{startRow} to {endRow} of {totalRows} rows",updateArrows:!0,page:0,pageReset:0,size:10,maxOptionSize:20,savePages:!0,storageKey:"tablesorter-pager",fixedHeight:!1,countChildRows:!1,removeRows:!1,cssFirst:".first",cssPrev:".prev",cssNext:".next",cssLast:".last",cssGoto:".gotoPage",cssPageDisplay:".pagedisplay",cssPageSize:".pagesize",cssErrorRow:"tablesorter-errorRow",cssDisabled:"disabled",totalRows:0,totalPages:0,filteredRows:0,filteredPages:0,ajaxCounter:0,currentFilters:[],startRow:0,endRow:0,$size:null,last:{}};var c=this,d=function(a,b){var c=a.cssDisabled,d=!!b,e=d||0===a.page,f=Math.min(a.totalPages,a.filteredPages),d=d||a.page===f-1||0===f;a.updateArrows&&(a.$container.find(a.cssFirst+","+a.cssPrev)[e?"addClass":"removeClass"](c).attr("aria-disabled",e),a.$container.find(a.cssNext+","+a.cssLast)[d?"addClass":"removeClass"](c).attr("aria-disabled",d))},e=function(b,c){var d,e=b.config;(d=e.$table.hasClass("hasFilters"))&&!c.ajaxUrl?a.isEmptyObject(e.cache)?c.filteredRows=c.totalRows=e.$tbodies.eq(0).children("tr").not(c.countChildRows?"":"."+e.cssChildRow).length:(d=e.$table.children("tbody").index(e.$tbodies.eq(0)),c.filteredRows=0,a.each(e.cache[d].normalized,function(a,b){c.filteredRows+=c.regexRows.test(b[e.columns].$row[0].className)?0:1})):d||(c.filteredRows=c.totalRows)},f=function(c,f,i){if(!f.initializing){var j,k,l,m=c.config;j=f.size||f.settings.size||10,f.countChildRows&&k.push(m.cssChildRow),f.totalPages=Math.ceil(f.totalRows/j),m.totalRows=f.totalRows,e(c,f),m.filteredRows=f.filteredRows,f.filteredPages=Math.ceil(f.filteredRows/j)||0,0<=Math.min(f.totalPages,f.filteredPages)&&(k=f.size*f.page>f.filteredRows&&i,f.page=k?f.pageReset||0:f.page,f.startRow=k?f.size*f.page+1:0===f.filteredRows?0:f.size*f.page+1,f.endRow=Math.min(f.filteredRows,f.totalRows,f.size*(f.page+1)),l=f.$container.find(f.cssPageDisplay),j=(f.ajaxData&&f.ajaxData.output?f.ajaxData.output||f.output:f.output).replace(/\{page([\-+]\d+)?\}/gi,function(a,b){return f.totalPages?f.page+(b?parseInt(b,10):1):0}).replace(/\{\w+(\s*:\s*\w+)?\}/gi,function(a){var b,c;b=a.replace(/[{}\s]/g,""),a=b.split(":"),c=f.ajaxData;var d=/(rows?|pages?)$/i.test(b)?0:"";return/(startRow|page)/.test(a[0])&&"input"===a[1]?(b=(""+("page"===a[0]?f.totalPages:f.totalRows)).length,c="page"===a[0]?f.page+1:f.startRow,'<input type="text" class="ts-'+a[0]+'" style="max-width:'+b+'em" value="'+c+'"/>'):1<a.length&&c&&c[a[0]]?c[a[0]][a[1]]:f[b]||(c?c[b]:d)||d}),f.$goto.length&&(k="",a.each(g(f),function(a,b){k+='<option value="'+b+'">'+b+"</option>"}),f.$goto.html(k).val(f.page+1)),l.length&&(l["INPUT"===l[0].tagName?"val":"html"](j),l.find(".ts-startRow, .ts-page").unbind("change.pager").bind("change.pager",function(){var b=a(this).val(),b=a(this).hasClass("ts-startRow")?Math.floor(b/f.size)+1:b;m.$table.trigger("pageSet.pager",[b])}))),d(f),h(c,f),f.initialized&&!1!==i&&(m.$table.trigger("pagerComplete",f),f.savePages&&b.storage&&b.storage(c,f.storageKey,{page:f.page,size:f.size}))}},g=function(b){var c,d,e,f,g;g=Math.min(b.totalPages,b.filteredPages)||1;var h=5*Math.ceil(g/b.maxOptionSize/5);e=g>b.maxOptionSize,f=b.page+1,c=h,d=g-h;var i=[1];for(c=e?h:1;g>=c;)i.push(c),c+=e?h:1;if(i.push(g),e){for(e=[],d=Math.max(Math.floor(b.maxOptionSize/h)-1,5),c=f-d,1>c&&(c=1),d=f+d,d>g&&(d=g);d>=c;c++)e.push(c);i=a.grep(i,function(b,c){return a.inArray(b,i)===c}),f=i.length,g=e.length,f-g>h/2&&f+g>b.maxOptionSize&&(b=Math.floor(f/2)-Math.floor(g/2),Array.prototype.splice.apply(i,[b,g])),i=i.concat(e)}return i=a.grep(i,function(b,c){return a.inArray(b,i)===c}).sort(function(a,b){return a-b})},h=function(b,c){var d,e=b.config,f=e.$tbodies.eq(0);f.find("tr.pagerSavedHeightSpacer").remove(),c.fixedHeight&&!c.isDisabled&&(d=a.data(b,"pagerSavedHeight"))&&(d-=f.height(),d>5&&a.data(b,"pagerLastSize")===c.size&&f.children("tr:visible").length<c.size&&f.append('<tr class="pagerSavedHeightSpacer '+e.selectorRemove.slice(1)+'" style="height:'+d+'px;"></tr>'))},i=function(b,c){var d;d=b.config;var e=d.$tbodies.eq(0);e.find("tr.pagerSavedHeightSpacer").remove(),e.children("tr:visible").length||e.append('<tr class="pagerSavedHeightSpacer '+d.selectorRemove.slice(1)+'"><td>&nbsp</td></tr>'),d=e.children("tr").eq(0).height()*c.size,a.data(b,"pagerSavedHeight",d),h(b,c),a.data(b,"pagerLastSize",c.size)},j=function(a,c){if(!c.ajaxUrl){var d,e=0,f=a.config,g=f.$tbodies.eq(0).children("tr"),h=g.length,i=c.page*c.size,j=i+c.size,k=f.widgetOptions&&f.widgetOptions.filter_filteredRow||"filtered",l=0,m=0;for(c.cacheIndex=[],d=0;h>d;d++)g[d].className.match(k)||(m===i&&g[d].className.match(f.cssChildRow)?g[d].style.display="none":(g[d].style.display=m>=i&&j>m?"":"none",l!==m&&m>=i&&j>m&&(c.cacheIndex.push(d),l=m),m+=g[d].className.match(f.cssChildRow+"|"+f.selectorRemove.slice(1))&&!c.countChildRows?0:1,m===j&&"none"!==g[d].style.display&&g[d].className.match(b.css.cssHasChild)&&(e=d)));if(e>0&&g[e].className.match(b.css.cssHasChild))for(;++e<h&&g[e].className.match(f.cssChildRow);)g[e].style.display=""}},k=function(b,c){c.size=parseInt(c.$size.val(),10)||c.size||c.settings.size||10,a.data(b,"pagerLastSize",c.size),d(c),c.removeRows||(j(b,c),a(b).bind("sortEnd.pager filterEnd.pager",function(){j(b,c)}))},l=function(c,d,e,g,h){if("function"==typeof e.ajaxProcessing){var i,j,k,l,m,n,o=d.config,p=o.$table,q="";if(i=e.ajaxProcessing(c,d,g)||[0,[]],c=p.find("thead th").length,b.showError(d),h)o.debug&&b.log("Ajax Error",g,h),b.showError(d,0===g.status?"Not connected, verify Network":404===g.status?"Requested page not found [404]":500===g.status?"Internal Server Error [500]":"parsererror"===h?"Requested JSON parse failed":"timeout"===h?"Time out error":"abort"===h?"Ajax Request aborted":"Uncaught error: "+g.statusText+" ["+g.status+"]"),o.$tbodies.eq(0).children("tr").detach(),e.totalRows=0;else{if(a.isArray(i)?(g=isNaN(i[0])&&!isNaN(i[1]),h=i[g?1:0],e.totalRows=isNaN(h)?e.totalRows||0:h,o.totalRows=o.filteredRows=e.filteredRows=e.totalRows,g=0===e.totalRows?[""]:i[g?0:1]||[],m=i[2]):(e.ajaxData=i,o.totalRows=e.totalRows=i.total,o.filteredRows=e.filteredRows="undefined"!=typeof i.filteredRows?i.filteredRows:i.total,m=i.headers,g=i.rows),n=g&&g.length,g instanceof jQuery)e.processAjaxOnInit&&(o.$tbodies.eq(0).children("tr").detach(),o.$tbodies.eq(0).append(g));else if(n){for(i=0;n>i;i++){for(q+="<tr>",h=0;h<g[i].length;h++)q+=/^\s*<td/.test(g[i][h])?a.trim(g[i][h]):"<td>"+g[i][h]+"</td>";q+="</tr>"}e.processAjaxOnInit&&o.$tbodies.eq(0).html(q)}e.processAjaxOnInit=!0,m&&m.length===c&&(l=(j=p.hasClass("hasStickyHeaders"))?o.widgetOptions.$sticky.children("thead:first").children("tr").children():"",k=p.find("tfoot tr:first").children(),o.$headers.filter("th").each(function(c){var d,e=a(this);e.find("."+b.css.icon).length?(d=e.find("."+b.css.icon).clone(!0),e.find(".tablesorter-header-inner").html(m[c]).append(d),j&&l.length&&(d=l.eq(c).find("."+b.css.icon).clone(!0),l.eq(c).find(".tablesorter-header-inner").html(m[c]).append(d))):(e.find(".tablesorter-header-inner").html(m[c]),j&&l.length&&l.eq(c).find(".tablesorter-header-inner").html(m[c])),k.eq(c).html(m[c])}))}o.showProcessing&&b.isProcessing(d),e.totalPages=Math.ceil(e.totalRows/(e.size||e.settings.size||10)),e.last.totalRows=e.totalRows,e.last.currentFilters=e.currentFilters,e.last.sortList=(o.sortList||[]).join(","),f(d,e,!1),p.trigger("updateCache",[function(){e.initialized&&setTimeout(function(){p.trigger("applyWidgets").trigger("pagerChange",e),f(d,e,!0)},0)}])}e.initialized||(e.initialized=!0,e.initializing=!1,a(d).trigger("applyWidgets").trigger("pagerInitialized",e),f(d,e))},m=function(c,d){var e,f=n(c,d),g=a(document),h=c.config;""!==f&&(h.showProcessing&&b.isProcessing(c,!0),g.bind("ajaxError.pager",function(a,b,e,f){l(null,c,d,b,f),g.unbind("ajaxError.pager")}),e=++d.ajaxCounter,d.last.ajaxUrl=f,d.ajaxObject.url=f,d.ajaxObject.success=function(a,b,f){e<d.ajaxCounter||(l(a,c,d,f),g.unbind("ajaxError.pager"),"function"==typeof d.oldAjaxSuccess&&d.oldAjaxSuccess(a))},h.debug&&b.log("ajax initialized",d.ajaxObject),a.ajax(d.ajaxObject))},n=function(c,d){var e=c.config,f=d.ajaxUrl?d.ajaxUrl.replace(/\{page([\-+]\d+)?\}/,function(a,b){return d.page+(b?parseInt(b,10):0)}).replace(/\{size\}/g,d.size):"",g=e.sortList,h=d.currentFilters||a(c).data("lastSearch")||[],i=f.match(/\{\s*sort(?:List)?\s*:\s*(\w*)\s*\}/),j=f.match(/\{\s*filter(?:List)?\s*:\s*(\w*)\s*\}/),k=[];return i&&(i=i[1],a.each(g,function(a,b){k.push(i+"["+b[0]+"]="+b[1])}),f=f.replace(/\{\s*sort(?:List)?\s*:\s*(\w*)\s*\}/g,k.length?k.join("&"):i),k=[]),j&&(j=j[1],a.each(h,function(a,b){b&&k.push(j+"["+a+"]="+encodeURIComponent(b))}),f=f.replace(/\{\s*filter(?:List)?\s*:\s*(\w*)\s*\}/g,k.length?k.join("&"):j),d.currentFilters=h),"function"==typeof d.customAjaxUrl&&(f=d.customAjaxUrl(c,f)),e.debug&&b.log("Pager ajax url: "+f),f},o=function(c,d,e){var g,h,i,k,l=a(c);g=c.config;var m=g.$table.hasClass("hasFilters"),n=e.page*e.size,o=e.size;if(1>(d&&d.length||0))g.debug&&b.log("Pager: no rows for pager to render");else{if(e.page>=e.totalPages&&u(c,e),e.cacheIndex=[],e.isDisabled=!1,e.initialized&&l.trigger("pagerChange",e),e.removeRows){for(b.clearTableBody(c),g=b.processTbody(c,g.$tbodies.eq(0),!0),h=m?0:n,i=m?0:n,k=0;o>k&&h<d.length;)m&&/filtered/.test(d[h][0].className)||(i++,i>n&&o>=k&&(k++,e.cacheIndex.push(h),g.append(d[h]))),h++;b.processTbody(c,g,!1)}else j(c,e);f(c,e),c.isUpdating&&l.trigger("updateComplete",[c,!0])}},p=function(c,e){e.ajax?d(e,!0):(e.isDisabled=!0,a.data(c,"pagerLastPage",e.page),a.data(c,"pagerLastSize",e.size),e.page=0,e.size=e.totalRows,e.totalPages=1,a(c).addClass("pagerDisabled").removeAttr("aria-describedby").find("tr.pagerSavedHeightSpacer").remove(),o(c,c.config.rowsCopy,e),a(c).trigger("applyWidgets"),c.config.debug&&b.log("pager disabled")),e.$size.add(e.$goto).add(e.$container.find(".ts-startRow, .ts-page")).each(function(){a(this).attr("aria-disabled","true").addClass(e.cssDisabled)[0].disabled=!0})},q=function(a){var b=a.config,c=b.pager;b.$table.trigger("updateCache",[function(){var d,e=[];d=b.$table.children("tbody").index(b.$tbodies.eq(0));var f=a.config.cache[d].normalized;for(c.totalRows=f.length,d=0;d<c.totalRows;d++)e.push(f[d][b.columns].$row);b.rowsCopy=e,r(a,c,!0)}])},r=function(c,d,f){if(!d.isDisabled){var g,h=c.config,i=a(c),j=d.last;if(!1!==f&&d.initialized&&a.isEmptyObject(h.cache))return q(c);d.ajax&&b.hasWidget(c,"filter")&&!h.widgetOptions.filter_initialized||(e(c,d),g=Math.min(d.totalPages,d.filteredPages),0>d.page&&(d.page=0),d.page>g-1&&0!==g&&(d.page=g-1),j.currentFilters=""===(j.currentFilters||[]).join("")?[]:j.currentFilters,d.currentFilters=""===(d.currentFilters||[]).join("")?[]:d.currentFilters,(j.page!==d.page||j.size!==d.size||j.totalRows!==d.totalRows||(j.currentFilters||[]).join(",")!==(d.currentFilters||[]).join(",")||(j.ajaxUrl||"")!==(d.ajaxObject.url||"")||(j.optAjaxUrl||"")!==(d.ajaxUrl||"")||j.sortList!==(h.sortList||[]).join(","))&&(h.debug&&b.log("Pager changing to page "+d.page),d.last={page:d.page,size:d.size,sortList:(h.sortList||[]).join(","),totalRows:d.totalRows,currentFilters:d.currentFilters||[],ajaxUrl:d.ajaxObject.url||"",optAjaxUrl:d.ajaxUrl||""},d.ajax?m(c,d):d.ajax||o(c,h.rowsCopy,d),a.data(c,"pagerLastPage",d.page),d.initialized&&!1!==f&&(i.trigger("pageMoved",d).trigger("applyWidgets"),c.isUpdating&&i.trigger("updateComplete",[c,!0]))))}},s=function(b,c,d){d.size=c||d.size||d.settings.size||10,d.$size.val(d.size),a.data(b,"pagerLastPage",d.page),a.data(b,"pagerLastSize",d.size),d.totalPages=Math.ceil(d.totalRows/d.size),d.filteredPages=Math.ceil(d.filteredRows/d.size),r(b,d)},t=function(a,b){b.page=0,r(a,b)},u=function(a,b){b.page=Math.min(b.totalPages,b.filteredPages)-1,r(a,b)},v=function(a,b){b.page++,b.page>=Math.min(b.totalPages,b.filteredPages)-1&&(b.page=Math.min(b.totalPages,b.filteredPages)-1),r(a,b)},w=function(a,b){b.page--,0>=b.page&&(b.page=0),r(a,b)},x=function(c,d,e){var f,g=c.config;d.$size.add(d.$goto).add(d.$container.find(".ts-startRow, .ts-page")).removeClass(d.cssDisabled).removeAttr("disabled").attr("aria-disabled","false"),d.isDisabled=!1,d.page=a.data(c,"pagerLastPage")||d.page||0,d.size=a.data(c,"pagerLastSize")||parseInt(d.$size.find("option[selected]").val(),10)||d.size||d.settings.size||10,d.$size.val(d.size),d.totalPages=Math.ceil(Math.min(d.totalRows,d.filteredRows)/d.size),c.id&&(f=c.id+"_pager_info",d.$container.find(d.cssPageDisplay).attr("id",f),g.$table.attr("aria-describedby",f)),i(c,d),e&&(g.$table.trigger("updateRows"),s(c,d.size,d),k(c,d),g.debug&&b.log("pager enabled"))};c.appender=function(b,c){var d=b.config,e=d.pager;e.ajax||(d.rowsCopy=c,e.totalRows=e.countChildRows?d.$tbodies.eq(0).children("tr").length:c.length,e.size=a.data(b,"pagerLastSize")||e.size||e.settings.size||10,e.totalPages=Math.ceil(e.totalRows/e.size),o(b,c,e),f(b,e,!1))},c.construct=function(d){return this.each(function(){if(this.config&&this.hasInitialized){var e,g,h,l=this,m=l.config,n=m.widgetOptions,o=m.pager=a.extend(!0,{},a.tablesorterPager.defaults,d),y=m.$table,z=o.$container=a(o.container).addClass("tablesorter-pager").show();o.settings=a.extend(!0,{},a.tablesorterPager.defaults,d),m.debug&&b.log("Pager initializing"),o.oldAjaxSuccess=o.oldAjaxSuccess||o.ajaxObject.success,m.appender=c.appender,o.initializing=!0,o.savePages&&b.storage&&(e=b.storage(l,o.storageKey)||{},o.page=isNaN(e.page)?o.page:e.page,o.size=(isNaN(e.size)?o.size:e.size)||o.settings.size||10,a.data(l,"pagerLastSize",o.size)),o.regexRows=new RegExp("("+(n.filter_filteredRow||"filtered")+"|"+m.selectorRemove.slice(1)+"|"+m.cssChildRow+")"),y.unbind(a.trim("filterInit filterStart filterEnd sortEnd disable enable destroy updateComplete pageSize pageSet pageAndSize pagerUpdate ".split(" ").join(".pager "))).bind("filterInit.pager filterStart.pager",function(b,c){o.currentFilters=a.isArray(c)?c:m.$table.data("lastSearch"),"filterStart"===b.type&&!1!==o.pageReset&&(m.lastCombinedFilter||"")!==(o.currentFilters||[]).join("")&&(o.page=o.pageReset)
}).bind("filterEnd.pager sortEnd.pager",function(){o.currentFilters=m.$table.data("lastSearch"),(o.initialized||o.initializing)&&(m.delayInit&&m.rowsCopy&&0===m.rowsCopy.length&&q(l),f(l,o,!1),r(l,o,!1),m.$table.trigger("applyWidgets"))}).bind("disable.pager",function(a){a.stopPropagation(),p(l,o)}).bind("enable.pager",function(a){a.stopPropagation(),x(l,o,!0)}).bind("destroy.pager",function(c){c.stopPropagation(),p(l,o),o.$container.hide(),l.config.appender=null,o.initialized=!1,delete l.config.rowsCopy,a(l).unbind(a.trim("filterInit filterStart filterEnd sortEnd disable enable destroy updateComplete pageSize pageSet pageAndSize pagerUpdate ".split(" ").join(".pager "))),b.storage&&b.storage(l,o.storageKey,"")}).bind("updateComplete.pager",function(a,b,c){a.stopPropagation(),b&&!c&&(a=m.$tbodies.eq(0).children("tr").not(m.selectorRemove),o.totalRows=a.length-(o.countChildRows?0:a.filter("."+m.cssChildRow).length),o.totalPages=Math.ceil(o.totalRows/o.size),a.length&&m.rowsCopy&&0===m.rowsCopy.length&&q(b),o.page>=o.totalPages&&u(b,o),j(b,o),i(b,o),f(b,o,!0))}).bind("pageSize.pager refreshComplete.pager",function(a,b){a.stopPropagation(),s(l,parseInt(b,10)||o.settings.size||10,o),j(l,o),f(l,o,!1)}).bind("pageSet.pager pagerUpdate.pager",function(a,b){a.stopPropagation(),o.page=(parseInt(b,10)||1)-1,"pagerUpdate"===a.type&&(o.last.page=!0),r(l,o,!0),f(l,o,!1)}).bind("pageAndSize.pager",function(a,b,c){a.stopPropagation(),o.page=(parseInt(b,10)||1)-1,s(l,parseInt(c,10)||o.settings.size||10,o),r(l,o,!0),j(l,o),f(l,o,!1)}),g=[o.cssFirst,o.cssPrev,o.cssNext,o.cssLast],h=[t,w,v,u],z.find(g.join(",")).attr("tabindex",0).unbind("click.pager").bind("click.pager",function(b){b.stopPropagation();var c=a(this),d=g.length;if(!c.hasClass(o.cssDisabled))for(b=0;d>b;b++)if(c.is(g[b])){h[b](l,o);break}}),o.$goto=z.find(o.cssGoto),o.$goto.length&&o.$goto.unbind("change.pager").bind("change.pager",function(){o.page=a(this).val()-1,r(l,o,!0),f(l,o,!1)}),o.$size=z.find(o.cssPageSize),o.$size.length&&(o.$size.find("option").removeAttr("selected"),o.$size.unbind("change.pager").bind("change.pager",function(){return o.$size.val(a(this).val()),a(this).hasClass(o.cssDisabled)||(s(l,parseInt(a(this).val(),10),o),i(l,o)),!1})),o.initialized=!1,y.trigger("pagerBeforeInitialized",o),x(l,o,!1),"string"==typeof o.ajaxUrl?(o.ajax=!0,m.widgetOptions.filter_serversideFiltering=!0,m.serverSideSorting=!0,r(l,o)):(o.ajax=!1,a(this).trigger("appendCache",!0),k(l,o)),o.ajax||o.initialized||(o.initializing=!1,o.initialized=!0,r(l,o),a(l).trigger("pagerInitialized",o),m.widgetOptions.filter_initialized&&b.hasWidget(l,"filter")||f(l,o,!1))}})}}}),b.showError=function(b,c){a(b).each(function(){var b=this.config,d=b.pager&&b.pager.cssErrorRow||b.widgetOptions.pager_css&&b.widgetOptions.pager_css.errorRow||"tablesorter-errorRow";b&&("undefined"==typeof c?b.$table.find("thead").find(b.selectorRemove).remove():a(/tr\>/.test(c)?c:'<tr><td colspan="'+b.columns+'">'+c+"</td></tr>").click(function(){a(this).remove()}).appendTo(b.$table.find("thead:first")).addClass(d+" "+b.selectorRemove.slice(1)).attr({role:"alert","aria-live":"assertive"}))})},a.fn.extend({tablesorterPager:a.tablesorterPager.construct})}(jQuery);